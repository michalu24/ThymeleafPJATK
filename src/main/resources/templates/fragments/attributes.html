<!-- Sekcja: Atrybuty Thymeleafa -->
<div th:fragment="attributes">

    <!-- NagÅ‚Ã³wek -->
    <h2 class="text-2xl font-bold text-gray-800 border-b pb-2">ğŸ”§ Atrybuty Thymeleafa (Attribute Processors)</h2>

    <!-- Opis -->
    <p class="text-gray-700 leading-relaxed">
        Thymeleaf uÅ¼ywa specjalnych atrybutÃ³w HTML z prefiksem <code class="font-mono bg-gray-200 px-1 rounded text-sm">th:</code>,
        ktÃ³re pozwalajÄ… manipulowaÄ‡ zawartoÅ›ciÄ…, logikÄ… oraz strukturÄ… dokumentu. SÄ… to tzw. <strong>attribute processors</strong>.
    </p>

    <!-- PodziaÅ‚ na grupy -->
    <div class="bg-gray-50 border-l-4 border-blue-400 p-4 rounded space-y-4">

        <!-- Grupa: Tekst i zawartoÅ›Ä‡ -->
        <div>
            <p class="text-gray-800 font-semibold">ğŸ“„ TreÅ›Ä‡ i tekst:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:text</code> â€“ zamienia zawartoÅ›Ä‡ tagu</li>
                <li><code class="font-mono text-sm">th:utext</code> â€“ pozwala na HTML (niebezpieczne!)</li>
                <li><code class="font-mono text-sm">th:value</code> â€“ ustawia wartoÅ›Ä‡ inputa</li>
                <li><code class="font-mono text-sm">th:href</code> / <code>th:src</code> â€“ dynamiczne linki i obrazki</li>
            </ul>
        </div>

        <!-- Grupa: Logika -->
        <div>
            <p class="text-gray-800 font-semibold">ğŸ§  Logika warunkowa:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:if</code> â€“ renderuje element, jeÅ›li warunek jest speÅ‚niony</li>
                <li><code class="font-mono text-sm">th:unless</code> â€“ odwrotnoÅ›Ä‡ <code>th:if</code></li>
                <li><code class="font-mono text-sm">th:switch</code> / <code>th:case</code> â€“ struktura warunkowa</li>
            </ul>
        </div>

        <!-- Grupa: Iteracje -->
        <div>
            <p class="text-gray-800 font-semibold">ğŸ” PÄ™tle i kolekcje:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:each</code> â€“ iteracja po kolekcji</li>
                <li><code class="font-mono text-sm">th:each="item, iterStat : ${list}"</code> â€“ dostÄ™p do indeksu i metadanych</li>
            </ul>
        </div>

        <!-- Grupa: Formularze -->
        <div>
            <p class="text-gray-800 font-semibold">ğŸ“ Formularze:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:object</code> â€“ wiÄ…Å¼e formularz z obiektem</li>
                <li><code class="font-mono text-sm">th:field</code> â€“ generuje `name`, `id` i `value` automatycznie</li>
                <li><code class="font-mono text-sm">th:errors</code> â€“ pokazuje bÅ‚Ä™dy dla pola</li>
            </ul>
        </div>

        <!-- Grupa: Atrybuty -->
        <div>
            <p class="text-gray-800 font-semibold">âš™ï¸ Dynamiczne atrybuty:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:attr</code> â€“ przypisuje jeden lub wiele atrybutÃ³w</li>
                <li><code class="font-mono text-sm">th:attrappend</code> / <code>th:attrprepend</code> â€“ dodaje do istniejÄ…cych</li>
                <li><code class="font-mono text-sm">th:classappend</code> â€“ dodaje klasÄ™ do istniejÄ…cych klas CSS</li>
            </ul>
        </div>

        <!-- Grupa: Fragmenty -->
        <div>
            <p class="text-gray-800 font-semibold">ğŸ§© Fragmenty:</p>
            <ul class="list-disc list-inside text-gray-700">
                <li><code class="font-mono text-sm">th:insert</code> / <code>th:replace</code> â€“ wstawianie fragmentÃ³w</li>
                <li><code class="font-mono text-sm">th:include</code> â€“ (rzadziej uÅ¼ywane)</li>
                <li><code class="font-mono text-sm">th:fragment</code> â€“ definiuje fragment do osadzenia</li>
            </ul>
        </div>
    </div>

    <!-- PrzykÅ‚ad kodu Thymeleaf -->
    <div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2 mt-6">ğŸ§ª PrzykÅ‚ad uÅ¼ycia wielu atrybutÃ³w:</h3>
        <pre class="bg-gray-900 text-green-200 text-sm rounded p-4 overflow-auto">
  &lt;div th:if="${user != null}" th:classappend="${user.active} ? 'bg-green-100' : 'bg-red-100'"&gt;
    &lt;p th:text="'Witaj, ' + ${user.name}"&gt;Witaj&lt;/p&gt;

    &lt;ul&gt;
      &lt;li th:each="item : ${user.roles}" th:text="${item}"&gt;Rola&lt;/li&gt;
    &lt;/ul&gt;

    &lt;form th:action="@{/update}" th:object="${user}" method="post"&gt;
      &lt;input type="text" th:field="*{email}" /&gt;
      &lt;span th:if="${#fields.hasErrors('email')}" th:errors="*{email}"&gt;&lt;/span&gt;
      &lt;button type="submit"&gt;Zapisz&lt;/button&gt;
    &lt;/form&gt;
  &lt;/div&gt;
        </pre>
    </div>

    <!-- Backend -->
    <div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2">ğŸ§© Fragment kontrolera Spring Boot:</h3>
        <pre class="bg-gray-900 text-blue-100 text-sm rounded p-4 overflow-auto">
  @GetMapping("/profile")
  public String showProfile(Model model) {
      User user = new User("Anna", "anna@example.com", List.of("ADMIN", "USER"), true);
      model.addAttribute("user", user);
      return "profile";
  }
        </pre>
    </div>

</div>
